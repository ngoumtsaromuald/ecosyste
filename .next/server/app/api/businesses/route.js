/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/businesses/route";
exports.ids = ["app/api/businesses/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/@supabase/realtime-js/dist/module/lib sync recursive":
/*!******************************************************************!*\
  !*** ./node_modules/@supabase/realtime-js/dist/module/lib/ sync ***!
  \******************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/@supabase/realtime-js/dist/module/lib sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbusinesses%2Froute&page=%2Fapi%2Fbusinesses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbusinesses%2Froute.ts&appDir=D%3A%5CWORKS%5CPROJETS%5CECOSYSTE%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CWORKS%5CPROJETS%5CECOSYSTE&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbusinesses%2Froute&page=%2Fapi%2Fbusinesses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbusinesses%2Froute.ts&appDir=D%3A%5CWORKS%5CPROJETS%5CECOSYSTE%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CWORKS%5CPROJETS%5CECOSYSTE&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_WORKS_PROJETS_ECOSYSTE_app_api_businesses_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/businesses/route.ts */ \"(rsc)/./app/api/businesses/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/businesses/route\",\n        pathname: \"/api/businesses\",\n        filename: \"route\",\n        bundlePath: \"app/api/businesses/route\"\n    },\n    resolvedPagePath: \"D:\\\\WORKS\\\\PROJETS\\\\ECOSYSTE\\\\app\\\\api\\\\businesses\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_WORKS_PROJETS_ECOSYSTE_app_api_businesses_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/businesses/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZidXNpbmVzc2VzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZidXNpbmVzc2VzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYnVzaW5lc3NlcyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDV09SS1MlNUNQUk9KRVRTJTVDRUNPU1lTVEUlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNXT1JLUyU1Q1BST0pFVFMlNUNFQ09TWVNURSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDWTtBQUN6RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL3RyYWUtcHJvamVjdC8/OTFhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFxXT1JLU1xcXFxQUk9KRVRTXFxcXEVDT1NZU1RFXFxcXGFwcFxcXFxhcGlcXFxcYnVzaW5lc3Nlc1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYnVzaW5lc3Nlcy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2J1c2luZXNzZXNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2J1c2luZXNzZXMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxXT1JLU1xcXFxQUk9KRVRTXFxcXEVDT1NZU1RFXFxcXGFwcFxcXFxhcGlcXFxcYnVzaW5lc3Nlc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYnVzaW5lc3Nlcy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbusinesses%2Froute&page=%2Fapi%2Fbusinesses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbusinesses%2Froute.ts&appDir=D%3A%5CWORKS%5CPROJETS%5CECOSYSTE%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CWORKS%5CPROJETS%5CECOSYSTE&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/businesses/route.ts":
/*!*************************************!*\
  !*** ./app/api/businesses/route.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n\n\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const page = parseInt(searchParams.get(\"page\") || \"1\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"12\");\n        const categoryId = searchParams.get(\"category\") || undefined;\n        const search = searchParams.get(\"search\") || undefined;\n        // Récupérer les entreprises depuis Supabase\n        const { data: businesses, error, count } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.businessQueries.getBusinesses(page, limit, categoryId, search);\n        if (error) {\n            console.error(\"Supabase error:\", error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to fetch businesses\"\n            }, {\n                status: 500\n            });\n        }\n        // Transformer les données pour correspondre au format attendu par le frontend\n        const transformedBusinesses = (businesses || []).map((business)=>({\n                ...business,\n                slug: business.name.toLowerCase().replace(/[^a-z0-9]+/g, \"-\").replace(/(^-|-$)/g, \"\"),\n                images: business.website ? [\n                    `https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=400&h=300&fit=crop&crop=center`\n                ] : [],\n                status: business.status === \"APPROVED\" ? \"ACTIVE\" : business.status,\n                viewCount: Math.floor(Math.random() * 200) + 50,\n                clickCount: Math.floor(Math.random() * 50) + 10 // Données simulées pour les clics\n            }));\n        const totalPages = Math.ceil((count || 0) / limit);\n        const response = {\n            data: transformedBusinesses,\n            total: count || 0,\n            page,\n            limit,\n            totalPages\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(response);\n    } catch (error) {\n        console.error(\"Error fetching businesses:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch businesses\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        // Validation des données requises\n        if (!body.name) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Le nom de l'entreprise est requis\"\n            }, {\n                status: 400\n            });\n        }\n        // Créer l'entreprise dans la base de données\n        const result = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.businessQueries.createBusiness(body);\n        if (result.error) {\n            console.error(\"Erreur Supabase:\", result.error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Erreur lors de la cr\\xe9ation de l'entreprise\"\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Entreprise cr\\xe9\\xe9e avec succ\\xe8s\",\n            business: result.data\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Erreur lors de la cr\\xe9ation de l'entreprise:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Erreur interne du serveur\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUFBVWtCLE9BQU81QixJQUFJO1FBQ3ZCLEdBQ0E7WUFBRU8sUUFBUTtRQUFJO0lBRWxCLEVBQUUsT0FBT0wsT0FBTztRQUNkRyxRQUFRSCxLQUFLLENBQUMsa0RBQWdEQTtRQUM5RCxPQUFPaEIscURBQVlBLENBQUNvQixJQUFJLENBQ3RCO1lBQUVKLE9BQU87UUFBNEIsR0FDckM7WUFBRUssUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmFlLXByb2plY3QvLi9hcHAvYXBpL2J1c2luZXNzZXMvcm91dGUudHM/MmYyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgYnVzaW5lc3NRdWVyaWVzLCBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBjb25zdCBwYWdlID0gcGFyc2VJbnQoc2VhcmNoUGFyYW1zLmdldCgncGFnZScpIHx8ICcxJyk7XG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpIHx8ICcxMicpO1xuICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdjYXRlZ29yeScpIHx8IHVuZGVmaW5lZDtcbiAgICBjb25zdCBzZWFyY2ggPSBzZWFyY2hQYXJhbXMuZ2V0KCdzZWFyY2gnKSB8fCB1bmRlZmluZWQ7XG5cbiAgICAvLyBSw6ljdXDDqXJlciBsZXMgZW50cmVwcmlzZXMgZGVwdWlzIFN1cGFiYXNlXG4gICAgY29uc3QgeyBkYXRhOiBidXNpbmVzc2VzLCBlcnJvciwgY291bnQgfSA9IGF3YWl0IGJ1c2luZXNzUXVlcmllcy5nZXRCdXNpbmVzc2VzKFxuICAgICAgcGFnZSxcbiAgICAgIGxpbWl0LFxuICAgICAgY2F0ZWdvcnlJZCxcbiAgICAgIHNlYXJjaFxuICAgICk7XG4gICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTdXBhYmFzZSBlcnJvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggYnVzaW5lc3NlcycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFRyYW5zZm9ybWVyIGxlcyBkb25uw6llcyBwb3VyIGNvcnJlc3BvbmRyZSBhdSBmb3JtYXQgYXR0ZW5kdSBwYXIgbGUgZnJvbnRlbmRcbiAgICBjb25zdCB0cmFuc2Zvcm1lZEJ1c2luZXNzZXMgPSAoYnVzaW5lc3NlcyB8fCBbXSkubWFwKGJ1c2luZXNzID0+ICh7XG4gICAgICAuLi5idXNpbmVzcyxcbiAgICAgIHNsdWc6IGJ1c2luZXNzLm5hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bXmEtejAtOV0rL2csICctJykucmVwbGFjZSgvKF4tfC0kKS9nLCAnJyksXG4gICAgICBpbWFnZXM6IGJ1c2luZXNzLndlYnNpdGUgPyBcbiAgICAgICAgW2BodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU1NjkwOTExNC1mNmU3YWQ3ZDMxMzY/dz00MDAmaD0zMDAmZml0PWNyb3AmY3JvcD1jZW50ZXJgXSA6IFxuICAgICAgICBbXSxcbiAgICAgIHN0YXR1czogYnVzaW5lc3Muc3RhdHVzID09PSAnQVBQUk9WRUQnID8gJ0FDVElWRScgOiBidXNpbmVzcy5zdGF0dXMsXG4gICAgICB2aWV3Q291bnQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIwMCkgKyA1MCwgLy8gRG9ubsOpZXMgc2ltdWzDqWVzIHBvdXIgbGVzIHZ1ZXNcbiAgICAgIGNsaWNrQ291bnQ6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUwKSArIDEwICAgLy8gRG9ubsOpZXMgc2ltdWzDqWVzIHBvdXIgbGVzIGNsaWNzXG4gICAgfSkpO1xuXG4gICAgY29uc3QgdG90YWxQYWdlcyA9IE1hdGguY2VpbCgoY291bnQgfHwgMCkgLyBsaW1pdCk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgIGRhdGE6IHRyYW5zZm9ybWVkQnVzaW5lc3NlcyxcbiAgICAgIHRvdGFsOiBjb3VudCB8fCAwLFxuICAgICAgcGFnZSxcbiAgICAgIGxpbWl0LFxuICAgICAgdG90YWxQYWdlc1xuICAgIH07XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzcG9uc2UpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGJ1c2luZXNzZXM6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggYnVzaW5lc3NlcycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgXG4gICAgLy8gVmFsaWRhdGlvbiBkZXMgZG9ubsOpZXMgcmVxdWlzZXNcbiAgICBpZiAoIWJvZHkubmFtZSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTGUgbm9tIGRlIGxcXCdlbnRyZXByaXNlIGVzdCByZXF1aXMnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBDcsOpZXIgbCdlbnRyZXByaXNlIGRhbnMgbGEgYmFzZSBkZSBkb25uw6llc1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGJ1c2luZXNzUXVlcmllcy5jcmVhdGVCdXNpbmVzcyhib2R5KTtcbiAgICBcbiAgICBpZiAocmVzdWx0LmVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJldXIgU3VwYWJhc2U6JywgcmVzdWx0LmVycm9yKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ0VycmV1ciBsb3JzIGRlIGxhIGNyw6lhdGlvbiBkZSBsXFwnZW50cmVwcmlzZScgfSxcbiAgICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgXG4gICAgICAgIG1lc3NhZ2U6ICdFbnRyZXByaXNlIGNyw6nDqWUgYXZlYyBzdWNjw6hzJyxcbiAgICAgICAgYnVzaW5lc3M6IHJlc3VsdC5kYXRhXG4gICAgICB9LFxuICAgICAgeyBzdGF0dXM6IDIwMSB9XG4gICAgKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJldXIgbG9ycyBkZSBsYSBjcsOpYXRpb24gZGUgbFxcJ2VudHJlcHJpc2U6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdFcnJldXIgaW50ZXJuZSBkdSBzZXJ2ZXVyJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJidXNpbmVzc1F1ZXJpZXMiLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwicGFnZSIsInBhcnNlSW50IiwiZ2V0IiwibGltaXQiLCJjYXRlZ29yeUlkIiwidW5kZWZpbmVkIiwic2VhcmNoIiwiZGF0YSIsImJ1c2luZXNzZXMiLCJlcnJvciIsImNvdW50IiwiZ2V0QnVzaW5lc3NlcyIsImNvbnNvbGUiLCJqc29uIiwic3RhdHVzIiwidHJhbnNmb3JtZWRCdXNpbmVzc2VzIiwibWFwIiwiYnVzaW5lc3MiLCJzbHVnIiwibmFtZSIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImltYWdlcyIsIndlYnNpdGUiLCJ2aWV3Q291bnQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjbGlja0NvdW50IiwidG90YWxQYWdlcyIsImNlaWwiLCJyZXNwb25zZSIsInRvdGFsIiwiUE9TVCIsImJvZHkiLCJyZXN1bHQiLCJjcmVhdGVCdXNpbmVzcyIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/businesses/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   businessQueries: () => (/* binding */ businessQueries),\n/* harmony export */   categoryQueries: () => (/* binding */ categoryQueries),\n/* harmony export */   createBusiness: () => (/* binding */ createBusiness),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = process.env.SUPABASE_URL;\nconst supabaseAnonKey = process.env.SUPABASE_ANON_KEY;\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Client Supabase avec service role pour les opérations d'écriture (si disponible)\nconst supabaseServiceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;\nconst supabaseAdmin = supabaseServiceRoleKey && supabaseServiceRoleKey !== \"your-service-role-key-here\" ? (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceRoleKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n}) : supabase;\n// Fonctions utilitaires pour les requêtes\nconst businessQueries = {\n    // Récupérer toutes les entreprises avec pagination\n    async getBusinesses (page = 1, limit = 12, categoryId, search) {\n        let query = supabase.from(\"businesses\").select(`\n        *,\n        category:categories(*)\n      `).eq(\"status\", \"APPROVED\").order(\"featured\", {\n            ascending: false\n        }).order(\"created_at\", {\n            ascending: false\n        });\n        if (categoryId) {\n            query = query.eq(\"category_id\", categoryId);\n        }\n        if (search) {\n            query = query.or(`name.ilike.%${search}%,description.ilike.%${search}%`);\n        }\n        const from = (page - 1) * limit;\n        const to = from + limit - 1;\n        const { data, error, count } = await query.range(from, to).select(\"*\", {\n            count: \"exact\"\n        });\n        return {\n            data,\n            error,\n            count\n        };\n    },\n    // Récupérer une entreprise par slug/id\n    async getBusinessById (id) {\n        const { data, error } = await supabase.from(\"businesses\").select(`\n        *,\n        category:categories(*)\n      `).eq(\"id\", id).eq(\"status\", \"APPROVED\").single();\n        return {\n            data,\n            error\n        };\n    },\n    // Insérer une nouvelle entreprise (pour le scraping)\n    async insertBusiness (business) {\n        const { data, error } = await supabase.from(\"businesses\").insert(business).select().single();\n        return {\n            data,\n            error\n        };\n    },\n    // Créer une nouvelle entreprise (pour l'API publique)\n    async createBusiness (business) {\n        const businessData = {\n            ...business,\n            city: \"Douala\",\n            region: \"Littoral\",\n            country: \"CM\",\n            verified: false,\n            featured: false,\n            status: business.status || \"PENDING\"\n        };\n        const { data, error } = await supabase.from(\"businesses\").insert(businessData).select(`\n        *,\n        category:categories(*)\n      `).single();\n        return {\n            data,\n            error\n        };\n    }\n};\nconst createBusiness = async (businessData)=>{\n    try {\n        const { data, error } = await supabase.from(\"businesses\").insert({\n            name: businessData.name,\n            description: businessData.description,\n            category_id: businessData.category_id,\n            phone: businessData.phone,\n            email: businessData.email,\n            website: businessData.website,\n            address: businessData.address,\n            city: businessData.city || \"Douala\",\n            region: businessData.region || \"Littoral\",\n            country: businessData.country || \"CM\"\n        }).select().single();\n        if (error) {\n            console.error(\"Supabase error:\", error);\n            throw error;\n        }\n        return {\n            data,\n            error: null\n        };\n    } catch (error) {\n        console.error(\"Error creating business:\", error);\n        return {\n            data: null,\n            error\n        };\n    }\n};\nconst categoryQueries = {\n    // Récupérer toutes les catégories\n    async getCategories () {\n        const { data, error } = await supabase.from(\"categories\").select(\"*\").order(\"name\");\n        return {\n            data,\n            error\n        };\n    },\n    // Récupérer une catégorie par slug\n    async getCategoryBySlug (slug) {\n        const { data, error } = await supabase.from(\"categories\").select(\"*\").eq(\"slug\", slug).single();\n        return {\n            data,\n            error\n        };\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WHZCLE1BQU07UUFFVCxPQUFPO1lBQUVOO1lBQU1DO1FBQU07SUFDdkI7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHJhZS1wcm9qZWN0Ly4vbGliL3N1cGFiYXNlLnRzP2M5OWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1VSTCFcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX0FOT05fS0VZIVxuXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSlcblxuLy8gQ2xpZW50IFN1cGFiYXNlIGF2ZWMgc2VydmljZSByb2xlIHBvdXIgbGVzIG9ww6lyYXRpb25zIGQnw6ljcml0dXJlIChzaSBkaXNwb25pYmxlKVxuY29uc3Qgc3VwYWJhc2VTZXJ2aWNlUm9sZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVlcbmV4cG9ydCBjb25zdCBzdXBhYmFzZUFkbWluID0gc3VwYWJhc2VTZXJ2aWNlUm9sZUtleSAmJiBzdXBhYmFzZVNlcnZpY2VSb2xlS2V5ICE9PSAneW91ci1zZXJ2aWNlLXJvbGUta2V5LWhlcmUnIFxuICA/IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VTZXJ2aWNlUm9sZUtleSwge1xuICAgICAgYXV0aDoge1xuICAgICAgICBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSxcbiAgICAgICAgcGVyc2lzdFNlc3Npb246IGZhbHNlXG4gICAgICB9XG4gICAgfSlcbiAgOiBzdXBhYmFzZVxuXG4vLyBUeXBlcyBwb3VyIFR5cGVTY3JpcHRcbmV4cG9ydCBpbnRlcmZhY2UgQnVzaW5lc3Mge1xuICBpZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICBkZXNjcmlwdGlvbj86IHN0cmluZ1xuICBwaG9uZT86IHN0cmluZ1xuICBlbWFpbD86IHN0cmluZ1xuICB3ZWJzaXRlPzogc3RyaW5nXG4gIGFkZHJlc3M/OiBzdHJpbmdcbiAgY2l0eTogc3RyaW5nXG4gIHJlZ2lvbjogc3RyaW5nXG4gIGNvdW50cnk6IHN0cmluZ1xuICBsYXRpdHVkZT86IG51bWJlclxuICBsb25naXR1ZGU/OiBudW1iZXJcbiAgY2F0ZWdvcnlfaWQ/OiBzdHJpbmdcbiAgc3RhdHVzOiAnUEVORElORycgfCAnQVBQUk9WRUQnIHwgJ1JFSkVDVEVEJ1xuICB2ZXJpZmllZDogYm9vbGVhblxuICBmZWF0dXJlZDogYm9vbGVhblxuICBzb3VyY2U/OiBzdHJpbmdcbiAgc2NyYXBlZF9hdD86IHN0cmluZ1xuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgdXBkYXRlZF9hdDogc3RyaW5nXG4gIGNhdGVnb3J5PzogQ2F0ZWdvcnlcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYXRlZ29yeSB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGRlc2NyaXB0aW9uPzogc3RyaW5nXG4gIHNsdWc6IHN0cmluZ1xuICBjcmVhdGVkX2F0OiBzdHJpbmdcbiAgdXBkYXRlZF9hdDogc3RyaW5nXG59XG5cbi8vIEZvbmN0aW9ucyB1dGlsaXRhaXJlcyBwb3VyIGxlcyByZXF1w6p0ZXNcbmV4cG9ydCBjb25zdCBidXNpbmVzc1F1ZXJpZXMgPSB7XG4gIC8vIFLDqWN1cMOpcmVyIHRvdXRlcyBsZXMgZW50cmVwcmlzZXMgYXZlYyBwYWdpbmF0aW9uXG4gIGFzeW5jIGdldEJ1c2luZXNzZXMocGFnZSA9IDEsIGxpbWl0ID0gMTIsIGNhdGVnb3J5SWQ/OiBzdHJpbmcsIHNlYXJjaD86IHN0cmluZykge1xuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYnVzaW5lc3NlcycpXG4gICAgICAuc2VsZWN0KGBcbiAgICAgICAgKixcbiAgICAgICAgY2F0ZWdvcnk6Y2F0ZWdvcmllcygqKVxuICAgICAgYClcbiAgICAgIC5lcSgnc3RhdHVzJywgJ0FQUFJPVkVEJylcbiAgICAgIC5vcmRlcignZmVhdHVyZWQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuXG4gICAgaWYgKGNhdGVnb3J5SWQpIHtcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2NhdGVnb3J5X2lkJywgY2F0ZWdvcnlJZClcbiAgICB9XG5cbiAgICBpZiAoc2VhcmNoKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKGBuYW1lLmlsaWtlLiUke3NlYXJjaH0lLGRlc2NyaXB0aW9uLmlsaWtlLiUke3NlYXJjaH0lYClcbiAgICB9XG5cbiAgICBjb25zdCBmcm9tID0gKHBhZ2UgLSAxKSAqIGxpbWl0XG4gICAgY29uc3QgdG8gPSBmcm9tICsgbGltaXQgLSAxXG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnlcbiAgICAgIC5yYW5nZShmcm9tLCB0bylcbiAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnIH0pXG5cbiAgICByZXR1cm4geyBkYXRhLCBlcnJvciwgY291bnQgfVxuICB9LFxuXG4gIC8vIFLDqWN1cMOpcmVyIHVuZSBlbnRyZXByaXNlIHBhciBzbHVnL2lkXG4gIGFzeW5jIGdldEJ1c2luZXNzQnlJZChpZDogc3RyaW5nKSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdidXNpbmVzc2VzJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICAqLFxuICAgICAgICBjYXRlZ29yeTpjYXRlZ29yaWVzKCopXG4gICAgICBgKVxuICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgLmVxKCdzdGF0dXMnLCAnQVBQUk9WRUQnKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICByZXR1cm4geyBkYXRhLCBlcnJvciB9XG4gIH0sXG5cbiAgLy8gSW5zw6lyZXIgdW5lIG5vdXZlbGxlIGVudHJlcHJpc2UgKHBvdXIgbGUgc2NyYXBpbmcpXG4gIGFzeW5jIGluc2VydEJ1c2luZXNzKGJ1c2luZXNzOiBPbWl0PEJ1c2luZXNzLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPikge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYnVzaW5lc3NlcycpXG4gICAgICAuaW5zZXJ0KGJ1c2luZXNzKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcblxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH1cbiAgfSxcblxuICAvLyBDcsOpZXIgdW5lIG5vdXZlbGxlIGVudHJlcHJpc2UgKHBvdXIgbCdBUEkgcHVibGlxdWUpXG4gIGFzeW5jIGNyZWF0ZUJ1c2luZXNzKGJ1c2luZXNzOiB7XG4gICAgbmFtZTogc3RyaW5nXG4gICAgZGVzY3JpcHRpb246IHN0cmluZ1xuICAgIGNhdGVnb3J5X2lkOiBzdHJpbmdcbiAgICBwaG9uZTogc3RyaW5nXG4gICAgZW1haWw/OiBzdHJpbmcgfCBudWxsXG4gICAgd2Vic2l0ZT86IHN0cmluZyB8IG51bGxcbiAgICBhZGRyZXNzOiBzdHJpbmdcbiAgICBzdGF0dXM/OiAnUEVORElORycgfCAnQVBQUk9WRUQnIHwgJ1JFSkVDVEVEJ1xuICB9KSB7XG4gICAgY29uc3QgYnVzaW5lc3NEYXRhID0ge1xuICAgICAgIC4uLmJ1c2luZXNzLFxuICAgICAgIGNpdHk6ICdEb3VhbGEnLCAvLyBWYWxldXIgcGFyIGTDqWZhdXRcbiAgICAgICByZWdpb246ICdMaXR0b3JhbCcsIC8vIFZhbGV1ciBwYXIgZMOpZmF1dFxuICAgICAgIGNvdW50cnk6ICdDTScsIC8vIENvZGUgcGF5cyBDYW1lcm91biAoMiBjYXJhY3TDqHJlcylcbiAgICAgICB2ZXJpZmllZDogZmFsc2UsXG4gICAgICAgZmVhdHVyZWQ6IGZhbHNlLFxuICAgICAgIHN0YXR1czogYnVzaW5lc3Muc3RhdHVzIHx8ICdQRU5ESU5HJ1xuICAgICB9XG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2J1c2luZXNzZXMnKVxuICAgICAgLmluc2VydChidXNpbmVzc0RhdGEpXG4gICAgICAuc2VsZWN0KGBcbiAgICAgICAgKixcbiAgICAgICAgY2F0ZWdvcnk6Y2F0ZWdvcmllcygqKVxuICAgICAgYClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVCdXNpbmVzcyA9IGFzeW5jIChidXNpbmVzc0RhdGE6IGFueSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYnVzaW5lc3NlcycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgbmFtZTogYnVzaW5lc3NEYXRhLm5hbWUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBidXNpbmVzc0RhdGEuZGVzY3JpcHRpb24sXG4gICAgICAgIGNhdGVnb3J5X2lkOiBidXNpbmVzc0RhdGEuY2F0ZWdvcnlfaWQsXG4gICAgICAgIHBob25lOiBidXNpbmVzc0RhdGEucGhvbmUsXG4gICAgICAgIGVtYWlsOiBidXNpbmVzc0RhdGEuZW1haWwsXG4gICAgICAgIHdlYnNpdGU6IGJ1c2luZXNzRGF0YS53ZWJzaXRlLFxuICAgICAgICBhZGRyZXNzOiBidXNpbmVzc0RhdGEuYWRkcmVzcyxcbiAgICAgICAgY2l0eTogYnVzaW5lc3NEYXRhLmNpdHkgfHwgJ0RvdWFsYScsXG4gICAgICAgIHJlZ2lvbjogYnVzaW5lc3NEYXRhLnJlZ2lvbiB8fCAnTGl0dG9yYWwnLFxuICAgICAgICBjb3VudHJ5OiBidXNpbmVzc0RhdGEuY291bnRyeSB8fCAnQ00nXG4gICAgICB9KVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1N1cGFiYXNlIGVycm9yOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yOiBudWxsIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgYnVzaW5lc3M6JywgZXJyb3IpO1xuICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjYXRlZ29yeVF1ZXJpZXMgPSB7XG4gIC8vIFLDqWN1cMOpcmVyIHRvdXRlcyBsZXMgY2F0w6lnb3JpZXNcbiAgYXN5bmMgZ2V0Q2F0ZWdvcmllcygpIHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2NhdGVnb3JpZXMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAub3JkZXIoJ25hbWUnKVxuXG4gICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfVxuICB9LFxuXG4gIC8vIFLDqWN1cMOpcmVyIHVuZSBjYXTDqWdvcmllIHBhciBzbHVnXG4gIGFzeW5jIGdldENhdGVnb3J5QnlTbHVnKHNsdWc6IHN0cmluZykge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2F0ZWdvcmllcycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnc2x1ZycsIHNsdWcpXG4gICAgICAuc2luZ2xlKClcblxuICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH1cbiAgfVxufSJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnQiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJTVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUFub25LZXkiLCJTVVBBQkFTRV9BTk9OX0tFWSIsInN1cGFiYXNlIiwic3VwYWJhc2VTZXJ2aWNlUm9sZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJzdXBhYmFzZUFkbWluIiwiYXV0aCIsImF1dG9SZWZyZXNoVG9rZW4iLCJwZXJzaXN0U2Vzc2lvbiIsImJ1c2luZXNzUXVlcmllcyIsImdldEJ1c2luZXNzZXMiLCJwYWdlIiwibGltaXQiLCJjYXRlZ29yeUlkIiwic2VhcmNoIiwicXVlcnkiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJvcmRlciIsImFzY2VuZGluZyIsIm9yIiwidG8iLCJkYXRhIiwiZXJyb3IiLCJjb3VudCIsInJhbmdlIiwiZ2V0QnVzaW5lc3NCeUlkIiwiaWQiLCJzaW5nbGUiLCJpbnNlcnRCdXNpbmVzcyIsImJ1c2luZXNzIiwiaW5zZXJ0IiwiY3JlYXRlQnVzaW5lc3MiLCJidXNpbmVzc0RhdGEiLCJjaXR5IiwicmVnaW9uIiwiY291bnRyeSIsInZlcmlmaWVkIiwiZmVhdHVyZWQiLCJzdGF0dXMiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJjYXRlZ29yeV9pZCIsInBob25lIiwiZW1haWwiLCJ3ZWJzaXRlIiwiYWRkcmVzcyIsImNvbnNvbGUiLCJjYXRlZ29yeVF1ZXJpZXMiLCJnZXRDYXRlZ29yaWVzIiwiZ2V0Q2F0ZWdvcnlCeVNsdWciLCJzbHVnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fbusinesses%2Froute&page=%2Fapi%2Fbusinesses%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fbusinesses%2Froute.ts&appDir=D%3A%5CWORKS%5CPROJETS%5CECOSYSTE%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CWORKS%5CPROJETS%5CECOSYSTE&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();